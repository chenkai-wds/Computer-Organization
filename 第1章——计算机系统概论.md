# 第一章——计算机系统概论
## 1.1 计算机系统简介
### 计算机的软硬件概念 
硬件：计算机的实体，如主机、外设等  
软件：由具有各类特殊功能的信息（程序）组成。分为以下两种：
+ 系统软件：用来管理整个计算机系统。如语言处理程序、操作系统、服务性程序、数据库管理系统和网络软件等
+ 应用软件：按任务需要编制成的各种程序  

### 计算机系统的层次结构
![alt text](images\层次结构.png)

### 计算机体系结构和计算机组成
计算机体系结构：程序员所见到的计算机系统的属性概念性的结构与功能特性（指令系统、数据类型、寻址技术、I/O机理）  
计算机组成：实现计算机体系结构所体现的属性（具体指令的实现）  

## 1.2 计算机的基本组成  
### 冯.诺依曼计算机的特点  
1.计算机由五大部件组成  
2.指令和数据以同等地位存于存储器，可按地址寻访  
3.指令和数据用二进制表示  
4.指令由操作码和地址码组成  
5.存储程序（核心特征）  
6.以运算器为中心  

### 冯.诺依曼计算机硬件框图  
![alt text](images\冯诺依曼结构.png)
+ 运算器完成算数运算和逻辑运算  
+ 存储器存放数据和程序  
+ 控制器指挥控制程序的执行
+ 输入设备将信息转换为机器能识别的形式  
+ 输出设备将结果转换为人们熟悉的形式  
实线为数据通路，数据通过这些线进行流动  
虚线表示控制和状态反馈

此结构缺点为：  
1.运算器为整个结构的中心，非常繁忙，会成为计算机系统的瓶颈  
2.图比较乱，不具有层次化的特征

### 改进  
1.将运算器为中心改进成以存储器为中心，实现I/O设备与存储器之间直接的信息交换  
![alt text](images\存储器为核心.png)  

2.现代计算机硬件框图：  
![alt text](images\现代计算机硬件框图.png)

### 系统复杂性管理的方法（3’Y）
+ 层次化(Hierachy)：将被设计的系统划分为多个模块或子模块  
+ 模块化(Modularity)：有明确定义(well-defined)的功能和接口  
+ 规则性(regularity)：模块更容易被重用

### 存储器的基本构成
![alt text](images\存储器构成.png)  
存储体——存储单元——存储元件(0/1)  
大楼——房间——床位(无人/有人)  
**存储单元**存放一串二进制代码  
**存储字**存储单元中二进制代码的结果  
**存储字长**存储单元中二进制代码的位数  
每个存储单元赋予一个地址

**MAR** 存储器地址寄存器，反映存储单元的个数  
**MDR** 存储器数据寄存器，反映存储字长  

### 运算器的基本组成及操作过程  
![alt text](images\运算器基本组成.png)  
![alt text](images\加法操作.png)  
将内存M中的数字送到X中，通过ALU将X与ACC相加，得到的值送到ACC中。这些动作都是由控制器来控制的。  

![alt text](images\减法操作.png)
![alt text](images\乘法操作.png)  
![alt text](images\除法操作.png)

### 控制器基本构成  
![alt text](images\控制器基本组成.png)  
+ 控制器的基本结构：

    + 解释指令
    + 完成一条指令：取指令，分析指令，执行指令
    + PC：当前预执行的指令地址
    + IR：指令寄存器，当前要执行的指令
    + CU：控制单元，发出控制信号  

+ 一条指令的完成过程：  
取数指令的过程：取指令，分析指令，执行指令  

![alt text](images\取数指令完成过程.png)   
描述：首先PC存放执行的指令的地址，将PC中的值送到MAR中，取指令，存储体将对应地址放入MDR中，MDR将取出的数据放入IR中，IR将指令放入控制单元CU中，CU输出指令到CPU中，控制单元根据指令的结构，来判断是否需要取出指令中的操作数，如果要就将IR中的操作数部分传入MAR，取操作数MDR将操作数放入ACC中，控制单元在更具指令进行对应的运算。这里主要的操作是读取内存的操作。  

![alt text](images\存数指令完成过程.png)  
描述：首先PC存放执行的指令的地址，将PC中的值送到MAR中，取指令，存储体将对应地址放入MDR中，MDR将取出的数据放入IR中，IR将指令放入控制单元CU中，CU输出指令到CPU中，控制单元根据指令的结构，来判断是否需要将数据写入内存中，如果需要，将IR中的操作数部分传入MAR中，再将ACC中的数据传入MDR中，再写入存储体中。  


## 1.3 计算机硬件的主要技术指标
1.机器字长  
**CPU**一次能处理数据的位数，与**CPU**中的**寄存器位数**有关  

2.运算速度
+ 主频  
+ 核数，每个核支持的线程数  
+ 吉普森法 $T_m = \sum_{i = 1} ^ {n} f_it_i$  
+ **CPI** 执行一条指令所需时钟周期数  
+ **MIPS** 每秒执行百万条指令  
+ **FLOPS** 每秒浮点运算次数  

3.存储容量  
存放二进制信息的总位数  
+ 主存容量  
    + $存储单元个数 \times 存储字长$  
    如**MAR**    **MDR**容量  
        &emsp; 10 &emsp; 8 &emsp; $1K \times 8位$  
        &emsp; 16 &emsp; 32 &emsp; $64K \times 32位$  
    + 字节数  
    如 $2 ^ {13}b = 1KB$ &emsp; $1B = 2 ^ 3b$  
    &emsp; $2 ^ {21}b = 256KB$
+ 辅存容量
    + 字节数
